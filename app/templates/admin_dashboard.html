{% extends "base_admin_dashboard.html" %}
{% block styles_content %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/admin_dashboard.css') }}">
{% endblock styles_content %}

{% block main_content %}
    <div class="dashboard-container" id="dashboard-container">
        <h1>Welcome, {{ user.username }}</h1>
        <section id="dashboard">
            <div class="section">
                <h2>Your Quizzes</h2>
                <ul>
                    {% for quiz in user.quizzes %}
                    <li>
                        <strong>{{ quiz.title }}</strong> - Score: {{ quiz.max_score }}
                        <a class="create-button" href="{{ url_for('full_bp.get_quiz', quiz_id=quiz.id) }}">View Details</a>
                    </li>
                    {% endfor %}
                </ul>
                <a href="{{ url_for('full_bp.create_quiz') }}" class="button create-button">Create New Quiz</a>
            </div>
            <div class="section">
                <h2>Leaderboard</h2>
                <ul>
                    {% for entry in leaderboard %}
                    <li>{{ entry.username }} - {{ entry.score }}</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="section">
                <h2>Notifications</h2>
                <ul>
                    {% for notification in notifications %}
                    <li>{{ notification.content }} - {{ notification.date_posted }}</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="section">
                <h2>Quiz History</h2>
                <ul>
                    {% for quiz in quizzes %}
                    <li>
                        <strong>{{ quiz.quiz.title }}</strong> - Score: {{ quiz.score }} / {{ quiz.quiz.max_score }}
                        <!-- <a href="{{ url_for('view_quiz_history', quiz_history_id=quiz.id) }}">View Details</a> -->
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </section>
    </div>
{% endblock main_content %}

{% block scripts %}
    <script  type="module" src="{{ url_for('static', filename='js/admin_dashboard.js') }}"></script>
{% endblock scripts %}