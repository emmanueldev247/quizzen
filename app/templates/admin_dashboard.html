{% extends "base_admin_dashboard.html" %}
{% block styles_content %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/admin_dashboard.css') }}">
{% endblock styles_content %}

{% block main_content %}
    <div class="dashboard-container" id="dashboard-container">
        <h1>Welcome, {{ '@' ~ user.username if user.username else user.lastname ~ ' ' ~ user.firstname }}</h1>
        <section id="dashboard">
            <div class="section">
                <h2>Available Quizzes</h2>
                {% if quizzes %}
                <ul>
                    {% for quiz in quizzes %}
                    <li>
                        <strong>{{ quiz.title }}</strong> - Score: {{ quiz.max_score }}
                        <a class="create-button" href="{{ url_for('full_bp.get_quiz', quiz_id=quiz.id) }}">View Details</a>
                    </li>
                    {% endfor %}
                </ul>
                {% else %}
                {% include 'no-quiz-admin2.html' %}
                {% endif %}
            </div>
            <div class="section">
                <h2>Leaderboard</h2>
                {% if leaderboard %}
                <ul>
                    {% for entry in leaderboard %}
                    <li>{{ entry.username }} - {{ entry.score }}</li>
                    {% endfor %}
                </ul>
                {% else %}
                    {% include 'no-leader.html' %}
                {% endif %}
            </div>
            <div class="section">
                <h2>Notifications</h2>
                {% if notifications %}
                <ul>
                    {% for notification in notifications %}
                    <li>{{ notification.content }} - {{ notification.date_posted }}</li>
                    {% endfor %}
                </ul>
                {% else %}
                    {% include 'no-notif.html' %}
                {% endif %}
            </div>
            <div class="section">
                <h2>Quiz History</h2>
                {% if history %}
                <ul>
                    {% for quiz in quizzes %}
                    <li>
                        <strong>{{ quiz.quiz.title }}</strong> - Score: {{ quiz.score }} / {{ quiz.quiz.max_score }}
                        <!-- <a href="{{ url_for('view_quiz_history', quiz_history_id=quiz.id) }}">View Details</a> -->
                    </li>
                    {% endfor %}
                </ul>
                {% else %}
                    {% include 'no-history.html' %}
                {% endif %}
            </div>
        </section>
    </div>
{% endblock main_content %}

{% block scripts %}
    <script  type="module" src="{{ url_for('static', filename='js/admin_dashboard.js') }}"></script>
{% endblock scripts %}